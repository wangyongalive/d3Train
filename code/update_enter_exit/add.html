<html>

<head>
    <meta charset="utf-8">
    <title>理解 Update、Enter、Exit</title>
</head>

<body>
    <p>p1</p>
    <p>p2</p>
    <p>p3</p>

    <script src="https://cdn.bootcss.com/d3/3.5.15/d3.js"></script>
    <script>

        var dataset = [3, 6, 9, 12, 15];

        //选择body中的p元素
        var p = d3.select("body").selectAll("p");

        //获取update部分
        var update = p.data(dataset);

        //获取enter部分
        var enter = update.enter();

        // 获取exit部分
        var exit  = update.exit();

        //update部分的处理：更新属性值
        update.style('color', 'red')
            .text(function (d) {
                return "update " + d;
            })


        //enter部分的处理：添加元素后赋予属性值
        enter.append("p")
            .style('color', 'green')
            .text(function (d) {
                return "enter " + d;
            });

        //exit部分的处理通常是删除元素
        exit.remove();

    </script>
</body>

</html>